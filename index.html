<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div id='header' class='banner'>
    <h1>- Ticketek Dunedin -</h1>
  </div>


    <form id="regForm" class='formfill'>
        <h1>Ticketek Dunedin</h1>
        <!-- One "tab" for each step in the form: -->

        <div class='tab'>Please select the concert you wish to purchase tickets for:
            <p><select id='concert_select'>
                <option selected='selected' disabled='disabled' value="select">Select a Concert</option>
                <option value="Teletubbies, 24th October 2020">Teletubbies, 24th October 2020</option>
                <option value="The Wiggles, 9th December 2020">The Wiggles, 9th December 2020</option>
                <option value="Minecraft sing-a-long, 1st January 2020">Minecraft sing-a-long, 1st January 2020</option>
                <option value="Despacito 2, 2nd May 2020">Despacito 2, 2nd May 2020</option>
            </select></p>
        </div>

        <div class='tab'>Please select your seats
            <p><label>How many tickets you are purchasing:<input id='ticket_quantity' class="contact_info" data-number="5" data-error="Sorry, you canoly have a max of 5 tickets" type='number' min='1' max='5' value='1'>
            <output id='5A'></output></label><br>
            <label>Type of seat you would like: </label><br>
            <button class="seat_type" data-price="70" type="button" value="Seated">Seated $70</button>
            <button class="seat_type" data-price="25" type="button" value="Left Stand">Left Stand $25</button>
            <button class="seat_type" data-price="55" type="button" value="Front Row">Front Row $55</button>
            <button class="seat_type" data-price="140" type="button" value="Upfront">Upfront $140</button>
            <button class="seat_type" data-price="230" type="button" value="Premier Seated">Premier Seated $230</button>
            </p>
        </div>

        <div class='tab'>Ticket Summary
            <label>Concert: <output id='concert'></output></label><br>
            <label>Quantity: <output id='tickets'></output></label><br>
            <label>Price per Ticket: <output id='ticket_individual_price'></output></label><br><br>
            <label>Booking Fee: $10</label><br>
            <label>Total Cost: <output id='total_cost'></output></label><br>

        </div>

        <div class="tab">Contact Info:
          <p><input placeholder="First name..." oninput="this.className = ''" name="fname" type="text" id='uname'></p>
          <p><input placeholder="Last name..." oninput="this.className = ''" name="lname" type="text" id='lname'></p>
          <p><input placeholder="E-mail..." oninput="this.className = ''" name="email" type='email' id='uemail'></p>
          <p><input placeholder="Phone..." oninput="this.className = ''" name="phone" type='tel' id="tel"></p>
          <button id='confirmbooking' onclick="pushFirebase()">Submit Data</button> 
        </div>
        <div style="overflow:auto;">
          <div style="float:right;">
            <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
            <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
          </div>
        </div>
        <!-- Circles which indicates the steps of the form: -->
        <div style="text-align:center;margin-top:40px;">
          <span class="step" onclick='nextStep("1")'></span>
          <span class="step" onclick='nextStep("2")'></span>
          <span class="step" onclick='nextStep("3")'></span>
          <span class="step" onclick='nextStep("4")'></span>
        </div>
      </form>

      <div id='footer' class='banner'>
        <p>2 Arthur Street, Dunedin</p>
        <p>Ph: 03 4775277</p>
        <p>ticketekdunedin@gmail.com</p>
      </div>


    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyDWQTUz7IhZR6TI93F5r5zUiFEgQJ86cxQ",
    authDomain: "ticketek-af846.firebaseapp.com",
    databaseURL: "https://ticketek-af846.firebaseio.com",
    projectId: "ticketek-af846",
    storageBucket: "ticketek-af846.appspot.com",
    messagingSenderId: "870436436820",
    appId: "1:870436436820:web:ed574ef5368d22f940a6c1",
    measurementId: "G-KS9YHNVN3V"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics(); 

  function pushFirebase(){
    const fb= firebase.database().ref()
    //get field values
    first_user_name =  document.getElementById('uname').value
    last_user_name =  document.getElementById('lname').value
    user_email =  document.getElementById('uemail').value
    phone =  document.getElementById('tel').value
    data = {first_user_name,last_user_name,user_email,phone}
    //push database
    fb.child('users/').push(data)
  }
</script>
    <script src="stepbystep.js"></script>
    <script src='calculations.js'></script>
</body>
</html>